<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="sale_report_saleorder_document_monivertical" inherit_id="sale.report_saleorder_document" name="Report Saleorder Document Monivertical">
        <xpath expr="//t[@t-foreach='doc.order_lines_layouted()']/table/thead/tr/th[1]" position='before'>
            <th t-if="doc.print_image" >
                Product Image
            </th>
        </xpath>
        <xpath expr="//table/tbody[hasclass('sale_tbody')]/t/t[2]/tr/td[1]" position='before'>
            <td t-if="doc.print_image">
                <span t-if="doc.image_sizes == 'image'" t-field="l.product_id.image" t-options="{'widget': 'image', 'class': 'img-rounded'}"/>
                <span t-if="doc.image_sizes == 'image_medium'" t-field="l.product_id.image_medium" t-options="{'widget': 'image', 'class': 'img-rounded'}"/>
                <span t-if="doc.image_sizes == 'image_small'" t-field="l.product_id.image_small" t-options="{'widget': 'image', 'class': 'img-rounded'}"/>
            </td>
        </xpath>
        <xpath expr="//div[@name='payment_term']" position='after'>
            <div class='col-xs-3' t-if="doc.incoterm" groups='sale.group_display_incoterm'>
                <strong>Incoterms:</strong>
                <p t-field="doc.incoterm.code"/>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('page')]//div[@id='informations']" position='inside'>
            <div t-if="doc.validity_date and doc.state in ['draft', 'sent']" class='col-xs-3'>
                <strong>Fecha de Vencimiento:</strong>
                <p t-field="doc.validity_date" />
            </div>
        </xpath>
        <xpath expr="//div[hasclass('page')]/p[@id='fiscal_position_remark']" position='after'>
            <div t-if="doc.options and doc.state in ['draft', 'sent']" style='page-break-before:always;'>
                <h2>
                <span>Productos Sugeridos</span>
            </h2>
                <table class='table table-condensed'>
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Descripci√≥n</th>
                            <th groups="sale.group_discount_per_so_line"/>
                            <th class='text-right'>Precio Unitario</th>
                        </tr>
                    </thead>
                    <tbody class='sale_tbody'>
                        <tr t-foreach='doc.options' t-as='option'>
                            <td>
                                <span t-field="option.product_id.name"/>
                            </td>
                            <td>
                                <span t-field="option.name"/>
                            </td>
                            <td groups='sale.group_discount_per_so_line'>
                                <strong class='text-info'>
                                <t t-esc="((option.discount % 1) and '%s' or '%d') % option.discount % descuento" />
                            </strong>
                            </td>
                            <td>
                                <strong class='text-right'>
                                <div t-field="option.price_unit" t-options="{'widget': 'monetary', 'display_currency': doc.pricelist_id.currency_id}" t-att-style="option.discount and 'text-decoration: line-through' or None" t-att-class="option.discount and 'text-danger' or None"/>
                                <div t-if="option.discount">
                                    <t t-esc="'%.2f'% ((1-option.discount / 100.0) * option.price_unit)"/>
                                </div>
                            </strong>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </xpath>
    </template>
</odoo>